<!-- app/views/products/index.html.erb -->
<section class="section">
  <div class="container">
    <div class="columns">
      <div class="column is-3">
        <aside class="is-medium menu">
          <p class="menu-label is-flex">
            Producto
          </p>
          <div class="is-flex mt-3">
            <button class="button is-link" onclick="openModal()">
              Crear producto
            </button>
          </div>
        </aside>
      </div>
      <div class="column is-9">
        <div class="content is-medium">
        <h3 class="title is-3">Productos</h3>
        <div id="products-container">
          <% @products.each do |date, products| %>
            <div id="products_<%= date.strftime('%Y-%m-%d') %>" class="group-of-products mt-4">
              <h2><%= date %></h2>
              <%= render GroupOfProductsComponent.new(products: products) %>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</section>

<%= render "create_popup" %>

<script>
  function openModal() {
    document.getElementById('myModal').classList.add('is-active');
  }

  function closeModal() {
    document.getElementById('myModal').classList.remove('is-active');
  }
</script>
